# Исследовательское устройство

---

## Содержание

1. [Исследовательское устройство](#исследовательское-устройство)
   - [Информация об устройстве](#информация-об-устройстве)
   - [Подключение к Wi-Fi на Raspberry Pi](#подключение-к-wi-fi-на-raspberry-pi)
     - [1. Проверка службы подключения](#1-проверка-службы-подключения)
     - [2. Создание и редактирование файла конфигурации](#2-создание-и-редактирование-файла-конфигурации)
     - [3. Перезапуск службы для применения конфигурации](#3-перезапуск-службы-для-применения-конфигурации)
     - [4. Получение IP через DHCP](#4-получение-ip-через-dhcp)
     - [5. Настройка автоподключения к Wi-Fi](#5-настройка-автоподключения-к-wi-fi)
     - [6. Настройка сетевого интерфейса для DHCP](#6-настройка-сетевого-интерфейса-для-dhcp)


## Информация об устройстве 

В качестве платформы для экспериментов используется **Raspberry Pi 4 Model B**. Это компактное одноплатное устройство с достаточно производительным ARM-процессором, позволяющее разворачивать виртуальные машины KVM/QEMU для учебных и исследовательских целей.

```bash
neofetch
```

```yaml
```

## Подключение к Wi-Fi на Raspberry Pi

### 1. Проверка службы подключения

```bash
sudo systemctl status wpa_supplicant@wlan0
```

- Проверяет, запущен ли демон `wpa_supplicant` для интерфейса `wlan0`.

### 2. Создание и редактирование файла конфигурации

```bash
cat /etc/wpa_supplicant/wpa_supplicant-wlan0.conf
```

```conf
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=RU

network={
  ssid="SSID"
  psk="PASSWORD"
}
```

> **Примечание**
> 
> - `ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev`  
>   - DIR - путь к сокету управления для `wpa_cli`  
>   - GROUP - пользователи группы `netdev` могут управлять Wi-Fi через `wpa_cli` 
> 
> То есть можно использовать команды клиента:
>
> ```bash
> wpa_cli status
> wpa_cli scan
> wpa_cli add_network
> ```
>
> - `update_config=1` - разрешает `wpa_supplicant` изменять файл автоматически. Без этой строки команды `wpa_cli` не смогут сохранять изменения.

Без этой строки wpa_cli работать не будет.

### 3. Перезапуск службы для применения конфигурации

```bash
sudo systemctl restart wpa_supplicant@wlan0
```

### 4. Получение IP через DHCP

```bash
sudo dhclient wlan0
```

### 5. Настройка автоподключения к Wi-Fi

```bash
sudo systemctl enable wpa_supplicant@wlan0
```

- Включает автоматический запуск `wpa_supplicant` при старте системы.

### 6. Настройка сетевого интерфейса для DHCP

```bash
cat /etc/systemd/network/20-wlan0.network
```

```/etc/systemd/network/20-wlan0.network
[Match]
Name=wlan0

[Network]
DHCP=yes
```

> **Примечание**
> 
> - Имя файла начинается с `20` - это **приоритет загрузки** сетевых конфигураций.  
> - `[Match]` - указывает интерфейс, к которому применяется конфигурация.  
> - `[Network]` - параметры сети; `DHCP=yes` автоматически запрашивает IP при старте.
